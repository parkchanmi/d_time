<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mem">

<!-- 회원가입 -->
<insert id="insertMem" parameterType="model.Member_DTO">
insert into member values (mem_no.nextVal,#{s_no},#{mem_type},#{mem_id},#{mem_pwd},#{mem_name},#{mem_hp})
</insert>

<!--id중복확인 -->
<select id="selectId" resultType="String" parameterType="String">
select mem_id from member where mem_id=#{mem_id} 
</select>

<!-- 로그인 -->
<select id="loginMem" parameterType="model.Member_DTO" resultType="model.Member_DTO">
select * from member where mem_id=#{mem_id} AND mem_pwd=#{mem_pwd}
</select>

<!-- 지점코드 유무확인 -->
<select id="selectcode" resultMap="storeinfo" parameterType="String">
select s_no,s_name,s_code
from store 
where s_code=#{s_code}
</select>
<resultMap id="storeinfo" type="java.util.HashMap">
        <result property="s_no" column="s_no"/>
        <result property="s_name" column="s_name"/>
        <result property="s_code" column="s_code"/>
    </resultMap>

</mapper>